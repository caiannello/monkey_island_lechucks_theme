/*
   The Secret of Monkey Island - LeChuck's Theme 
   (PC Speaker Version)
   
   Adapted to Arduino by Craig Iannello (caiannello AT google mail) 
   2020-11-24
  
   To play, hook a piezo speaker between ground and the 
   digital pin defined below:

*/

#define OUTPUT_PIN 8

PROGMEM const float song[] = { 

 // note_hz, note_ms, ...

 392.084, 177.279,   0.000, 101.565, 466.302,  10.726, 587.501,  33.197,
  98.042, 117.302, 392.084, 109.683,   0.000,  42.971, 466.018,  93.356,
   0.000, 184.966, 465.985,   9.660, 587.300, 132.834,   0.000, 180.771,
 555.599,  11.701, 554.937,  20.726, 555.599,  11.701, 555.962,   8.095,
   0.000, 204.104, 439.341,  11.383, 658.137,  34.195, 554.383,  41.497,
   0.000,  83.583, 109.690, 123.107, 440.261, 120.408, 440.249,  85.193,
   0.000,  39.864, 440.342,  12.494, 657.670,  32.698,   0.000,  97.664,
   0.000, 127.800, 254.116,  27.596,  52.005,   9.615, 311.005,  85.215,
   0.000, 193.129, 621.979,  38.594, 311.119,  65.896,   0.000,  55.170,
  76.246, 144.671, 311.054, 151.111,   0.000, 126.009, 622.181,  37.778,
   0.000, 282.245, 293.021,  93.855,   0.000, 185.442, 587.501,  33.197,
 293.099,  58.005,   0.000,  62.494,  72.133, 111.270, 256.926,  15.601,
 293.104, 117.710, 253.786,  15.782, 290.822,  12.041,   0.000, 113.288,
 587.423,  39.161,   0.000,  97.687,   0.000, 127.732, 243.082,   8.231,
 392.121, 219.342,   0.000,  58.594, 587.582,  38.299,  98.333, 122.063,
 392.120, 133.900,   0.000,  19.433, 466.109, 112.653,   0.000, 165.669,
 587.380, 101.315,   0.000, 212.653, 658.279,  98.005,   0.000, 180.317,
 658.231, 120.045,   0.000,  39.297, 109.997, 118.186, 554.937,  20.726,
 555.599,  11.701, 555.962,   8.095, 555.962,   8.095, 555.599,  11.701,
 555.599,  11.701, 555.962,   8.095, 555.962,   8.095, 555.599,  11.701,
 253.176,   9.887, 256.154,   9.773, 554.339,  46.009,   0.000,  78.980,
 658.127,  32.676,   0.000,  98.639,   0.000, 127.937, 252.525,  13.878,
 256.897,   9.751, 260.986,  97.710,   0.000, 180.612, 391.475,  11.497,
 522.430,  18.186, 261.018,  95.782,   0.000,  28.299, 129.729, 150.340,
 261.023,  88.118,   0.000, 193.197, 391.776,   8.934, 521.670,  10.544,
 522.182,  12.449, 261.006,  59.388,   0.000, 215.828, 293.020, 245.737,
   0.000,  31.247, 370.684,   8.095, 587.392,  37.460,   0.000, 125.034,
 146.029, 119.841, 254.809,  21.610, 146.028,  34.240,   0.000,  89.864,
   0.000, 131.837, 587.392,  37.460,   0.000,  99.274,   0.000, 126.939,
 239.044,   8.367, 392.125, 219.342,   0.000,  58.594, 587.557,  36.599,
  98.023, 117.324, 392.114, 117.324,   0.000,  31.293, 466.221, 106.190,
   0.000, 172.132, 587.369, 108.980,   0.000, 204.127, 554.298,  85.714,
   0.000, 192.608, 657.946,  36.485, 555.962,   8.095, 555.599,  11.701,
 555.599,  11.701,   0.000,  74.263, 110.006, 122.721, 440.131, 119.297,
 256.597,  15.624, 440.175, 102.245,   0.000,  23.447, 658.556,  37.211,
   0.000,  98.957,   0.000, 130.726, 261.059,  86.190,   0.000, 192.132,
 622.267,  34.558, 261.042,  68.957,   0.000,  54.694, 130.010, 146.145,
 260.925,  90.068,   0.000, 184.580, 392.271,  11.474, 622.500,  33.741,
 233.066,  38.617,   0.000, 239.274, 196.035,  84.172,   0.000, 198.050,
 587.582,  38.299, 196.119,  58.639,   0.000,  63.401,  98.002, 117.347,
 253.176,   9.887, 196.022, 119.887, 253.107,   9.887, 196.004,  61.224,
   0.000,  67.392, 391.776,   8.934, 587.881,  29.773,   0.000,  94.512,
   0.000, 127.914, 256.282,  35.170, 392.112, 117.324,   0.000, 160.181,
 622.521,  39.365, 392.193,  89.252, 257.659,   9.705, 392.215,  11.474,
 155.041, 145.125, 440.178, 102.245,   0.000,  15.624,   0.000, 131.837,
 622.171,  30.544, 466.051,  74.036,   0.000, 204.104, 440.069,  89.773,
   0.000, 188.549, 587.557,  36.599, 370.119,  41.882,   0.000,  52.925,
 256.489,  17.574, 146.052, 154.059, 293.005, 119.456, 253.084,   9.887,
 259.575,   9.637, 293.072,  42.653,   0.000,  82.336, 587.469,  31.497,
   0.000, 125.737, 293.012, 133.107,   0.000,  19.546, 261.037, 109.184,
   0.000, 169.138, 523.183,  37.279, 260.958,  84.308,  58.800,   8.503,
 130.476, 153.356, 293.069,  92.132,   0.000,  27.347, 259.575,   9.637,
   0.000, 127.937, 523.130,  30.590, 311.011,  99.683,   0.000, 177.052,
 293.011, 238.912,   0.000,  40.045, 587.557,  36.599,   0.000,  98.390,
 145.985, 150.703, 292.954, 117.778, 291.781,  29.138, 293.228,  49.456,
   0.000,  48.299, 587.124,  27.256,   0.000, 129.909, 293.020, 100.680,
   0.000,  48.730, 261.026,  88.118,   0.000, 188.503, 311.500,   8.027,
 523.015,  34.422, 261.033,  76.621,   0.000,  16.190, 129.887, 150.136,
 293.055,  88.730,   0.000,  35.556,   0.000, 127.800, 256.935,  15.601,
 522.652,  24.875, 311.026,  32.154,   0.000, 244.558, 293.016, 245.737,
   0.000,  35.102, 587.423,  39.161,   0.000,  93.787, 249.343,  14.059,
 257.500,   9.728, 145.985, 150.703, 292.919,  59.751,   0.000,  58.617,
 253.113,   9.887, 260.995,  78.549,   0.000,  47.438, 587.233,  30.658,
 233.033,  51.497,   0.000,  68.503, 220.015, 111.361,   0.000,  41.905,
 196.031, 163.243,   0.000, 114.263, 587.557,  36.599,  98.029, 188.753,
   0.000,  58.299, 255.755,  11.746,   0.000, 285.147, 587.557,  36.599,
 233.127,  62.200,   0.000,  58.889, 293.062, 117.732,   0.000,  35.601,
 392.109,  73.968,   0.000,  79.116, 155.036, 112.880,  60.912,   8.209,
 621.860,  34.580, 392.084,  57.392,   0.000, 219.728, 370.058,  89.184,
   0.000,  62.517, 146.029, 119.841, 587.557,  36.599, 370.327,  41.859,
   0.000, 236.440, 392.142, 242.290,   0.000,  36.145, 587.557,  36.599,
  98.024,  91.814, 196.022, 119.887, 253.739,   9.864,   0.000, 127.914,
   0.000, 126.939, 256.820,   9.751, 587.582,  38.299, 196.081,  89.252,
   0.000, 131.723, 254.305,  27.574, 116.006, 163.787,   0.000, 114.240,
 587.557,  36.599, 196.051,  96.916,   0.000,  23.447, 146.000, 219.184,
   0.000,  89.841, 196.022, 119.887, 393.860,   8.889, 465.891,   9.660,
 587.320,  34.059, 116.034, 129.274,   0.000, 148.435, 196.004, 117.347,
   0.000, 160.159, 391.085,  12.789, 587.531,  34.898,  98.053,  91.814,
 256.971,  25.329, 195.897, 117.415, 253.176,   9.887,   0.000, 130.862,
   0.000, 127.914, 391.475,  11.497, 587.531,  34.898, 196.060,  81.610,
  86.492,  11.565,   0.000, 121.134, 116.017, 142.222,   0.000, 137.075,
 392.271,  11.474, 587.531,  34.898, 196.051,  96.916,   0.000,  28.345,
 146.010, 171.224,   0.000, 133.787, 196.005, 107.143,   0.000,  16.599,
 587.531,  34.898, 116.054,  90.476,   0.000, 145.102, 
};

void setup() 
{
}

void loop() 
{
  for (int n = 0; n < sizeof(song)/sizeof(float); n+=2) 
  {
    int freq_hz = pgm_read_float_near( &(song[n]) );
    int duration_ms = pgm_read_float_near( &(song[n+1]));
    
    tone(OUTPUT_PIN, freq_hz,duration_ms );
    delay(duration_ms);
    noTone(OUTPUT_PIN);
  }
}
